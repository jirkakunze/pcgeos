/********************************************************************
 *
 * PROJECT::	ShiSen-Sho Game for PC/Geos
 *
 * DESCRIPTION:	a japanese game similar to mahjongg
 *
 * FILE:	appui.goc
 *
 * REMARK:	this code is ported from the KDE project "KSHISEN"
 *		created by Mario Weilguni <mweilguni@sime.com>
 *
 *		SHISEN is free software; you can redistribute it
 *		and/or modify it under the terms of the
 *		GNU General Public License as published by the
 * 		Free Software Foundation; either version 2, or
 *		(at your option) any later version.
 *
 * 		SHISEN is distributed in the hope that it will be
 *		useful, but WITHOUT ANY WARRANTY; without even the
 *		implied warranty of MERCHANTABILITY or FITNESS FOR A
 *		PARTICULAR PURPOSE. See the GNU General Public
 *		License for more details.
 *
 * HISTORY:	08/08/00   JKunze	initial version
 *
 *******************************************************************/
@define _APPUI_GOC_

@include "shisen.goh"
@include <Objects/gViewCC.goh>

@start AppResource;
@object GenApplicationClass ShisenApp = {
  GI_visMoniker = "Shisen-Sho";
  GI_comp = @ShisenPrimary;
  gcnList(MANUFACTURER_ID_GEOWORKS,GAGCNLT_WINDOWS) = @ShisenPrimary;
  gcnList(MANUFACTURER_ID_GEOWORKS,MGCNLT_ACTIVE_LIST) = @ShisenViewControl;
  gcnList(MANUFACTURER_ID_GEOWORKS,GAGCNLT_SELF_LOAD_OPTIONS) = @ShisenViewControl;
}
@end AppResource;

@start Interface;
@object GenPrimaryClass ShisenPrimary = {
  GI_comp = @ShisenGameMenu,
            @ShisenViewMenu,
            @ShisenOptionsMenu,
            @ShisenView;
  HINT_CENTER_CHILDREN_HORIZONTALLY;
  HINT_CENTER_CHILDREN_VERTICALLY;
}

@object GenInteractionClass ShisenGameMenu = {
  GI_visMoniker = 0, "Game";
  GI_comp = @ShisenGameMenuTrigger,
            @ShisenGameMenuScores,
            @ShisenGameMenuAbout;
  GII_visibility = GIV_POPUP;
  ATTR_GEN_INTERACTION_GROUP_TYPE = GIGT_FILE_MENU;
}

@object GenInteractionClass ShisenGameMenuTrigger = {
  GI_comp = @ShisenGameNew,
            @ShisenGameHint;
}

@object GenTriggerClass ShisenGameNew = {
  GI_visMoniker = "New Game";
  GTI_destination = process;
  GTI_actionMsg = MSG_SHISEN_PROCESS_NEW_GAME;
}

@object GenTriggerClass ShisenGameHint = {
  GI_visMoniker = "Get Hint";
  GTI_destination = @ShisenBoard;
  GTI_actionMsg = MSG_SHISEN_GET_HINT;
}

@object GenInteractionClass ShisenGameMenuScores = {
  GII_visibility = GIV_SUB_GROUP;
  GI_comp = @ShisenHighScores;
}

@object HighScoreClass ShisenHighScores = {
  GII_visibility = GIV_SUB_GROUP;
}

@object GenInteractionClass ShisenGameMenuAbout = {
  GI_comp = @ShisenGameAboutBox;
}

@object GenInteractionClass ShisenGameAboutBox = {
  GI_visMoniker = 0, "About Shisen-Sho";
  GI_comp = @ShisenGameAboutGlyph1,
            @ShisenGameAboutGlyph2,
            @ShisenGameAboutGlyph3,
            @ShisenAboutGlyph4,
            @ShisenAboutGlyph5,
            @ShisenAboutGlyph6,
            @ShisenAboutGlyph7;
  GII_visibility = GIV_DIALOG;
  GII_type = GIT_NOTIFICATION;
  HINT_CENTER_CHILDREN_HORIZONTALLY;
}

@object GenGlyphClass ShisenGameAboutGlyph1 = {
  GI_visMoniker = "Shisen-Sho, Version beta 2";
}

@object GenGlyphClass ShisenGameAboutGlyph2 = {
  GI_visMoniker = "ported to PC/Geos by Jirka Kunze";
}

@object GenGlyphClass ShisenGameAboutGlyph3 = {
  GI_visMoniker = "";
}

@object GenGlyphClass ShisenAboutGlyph4 = {
  GI_visMoniker = "Shisen-Sho is free software, you can";
}

@object GenGlyphClass ShisenAboutGlyph5 = {
  GI_visMoniker = "redistribute it and/or modify it under";
}

@object GenGlyphClass ShisenAboutGlyph6 = {
  GI_visMoniker = "the term of the GNU General Public License";
}

@object GenGlyphClass ShisenAboutGlyph7 = {
  GI_visMoniker = "published by the Free Software Foundation";
}

@object GenInteractionClass ShisenViewMenu = {
  GI_comp = @ShisenViewControl;
  GII_visibility = GIV_POPUP;
  ATTR_GEN_INTERACTION_GROUP_TYPE = GIGT_VIEW_MENU;
}

@object GenViewControlClass ShisenViewControl = {
  GII_visibility = GIV_SUB_GROUP;
}

@object GenInteractionClass ShisenOptionsMenu = {
  GI_comp = @ShisenBoardSize;
  GII_visibility = GIV_POPUP;
  ATTR_GEN_INTERACTION_GROUP_TYPE = GIGT_OPTIONS_MENU;
}

@object GenInteractionClass ShisenBoardSize = {
  GI_visMoniker = 0, "Size of Board";
  GI_comp = @ShisenBoardSizeList;
  GII_visibility = GIV_POPUP;
}

@object GenItemGroupClass ShisenBoardSizeList = {
  GIGI_behaviorType = GIGBT_EXCLUSIVE;
  GIGI_selection = SBS_BOARD_NORMAL;
  GIGI_numSelections = 1;
  GI_comp = @ShisenBoardSizeItem1,
            @ShisenBoardSizeItem2,
            @ShisenBoardSizeItem3,
            @ShisenBoardSizeItem4;
  GIGI_destination = process;
  GIGI_applyMsg = MSG_SHISEN_PROCESS_NEW_GAME;
  ATTR_GEN_INIT_FILE_KEY = "boardSize";
}

@object GenItemClass ShisenBoardSizeItem1 = {
  GI_visMoniker = 1, "14 x 6 Board";
  GII_identifier = SBS_BOARD_SMALL;
}

@object GenItemClass ShisenBoardSizeItem2 = {
  GI_visMoniker = 1, "18 x 8 Board";
  GII_identifier = SBS_BOARD_NORMAL;
}

@object GenItemClass ShisenBoardSizeItem3 = {
  GI_visMoniker = 0, "22 x 10 Board";
  GII_identifier = SBS_BOARD_LARGE;
}

@object GenItemClass ShisenBoardSizeItem4 = {
  GI_visMoniker = 0, "26 x 12 Board";
  GII_identifier = SBS_BOARD_VERY_LARGE;
}

@object GenViewClass ShisenView = {
  GVI_color = {C_GREEN, 0, 0, 0};
  GVI_attrs = @default | GVA_CONTROLLED;
  GVI_horizAttrs = GVDA_SCROLLABLE | GVDA_NO_LARGER_THAN_CONTENT;
  GVI_vertAttrs = GVDA_SCROLLABLE | GVDA_NO_LARGER_THAN_CONTENT;
  GVI_content = @ShisenBoard;
  HINT_VIEW_REMOVE_SCROLLERS_WHEN_NOT_SCROLLABLE;
  HINT_EXPAND_HEIGHT_TO_FIT_PARENT;
  HINT_EXPAND_WIDTH_TO_FIT_PARENT;
  HINT_DEFAULT_FOCUS;
  HINT_DEFAULT_TARGET;
}
@end Interface

@start BoardResource;
@object ShisenBoardClass ShisenBoard = {
  VCI_geoAttrs = @default | VCGA_CUSTOM_MANAGE_CHILDREN;
}
@end BoardResource;
